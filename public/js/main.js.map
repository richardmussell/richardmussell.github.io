{"version":3,"sources":["file:///C:/Users/Dailyrjm33/github/github%20pages/themes/mussell-portfolio/assets/js/main.js"],"sourcesContent":["// Enterprise Dark Mode Toggle - Robust Implementation\r\n(function() {\r\n  'use strict';\r\n\r\n  const DARK_MODE_KEY = 'theme';\r\n  const DARK_THEME = 'dark';\r\n  const LIGHT_THEME = 'light';\r\n\r\n  // Get theme preference with fallback\r\n  const getThemePreference = () =\u003e {\r\n    try {\r\n      const savedTheme = localStorage.getItem(DARK_MODE_KEY);\r\n      if (savedTheme === DARK_THEME || savedTheme === LIGHT_THEME) {\r\n        return savedTheme; // Use saved preference if exists\r\n      }\r\n    } catch (e) {\r\n      console.warn('localStorage not available:', e);\r\n    }\r\n    \r\n    // Default to dark mode for new visitors\r\n    return DARK_THEME;\r\n  };\r\n\r\n  // Apply theme to document\r\n  const applyTheme = (theme) =\u003e {\r\n    const root = document.documentElement;\r\n    \r\n    if (theme === DARK_THEME) {\r\n      root.classList.add('dark-mode');\r\n      root.setAttribute('data-theme', DARK_THEME);\r\n    } else {\r\n      root.classList.remove('dark-mode');\r\n      root.setAttribute('data-theme', LIGHT_THEME);\r\n    }\r\n    \r\n    try {\r\n      localStorage.setItem(DARK_MODE_KEY, theme);\r\n    } catch (e) {\r\n      console.warn('Could not save theme preference:', e);\r\n    }\r\n  };\r\n\r\n  // Update icon based on current theme\r\n  const updateIcon = (theme) =\u003e {\r\n    const button = document.querySelector('button[aria-label=\"Toggle dark mode\"], button[title=\"Toggle dark mode\"]');\r\n    if (!button) {\r\n      // Retry after a short delay if button not found\r\n      setTimeout(() =\u003e updateIcon(theme), 100);\r\n      return;\r\n    }\r\n\r\n    const svg = button.querySelector('svg');\r\n    if (!svg) return;\r\n\r\n    // Clear existing paths\r\n    svg.innerHTML = '';\r\n\r\n    if (theme === DARK_THEME) {\r\n      // Show sun icon (clicking will switch to light)\r\n      const sunPath = document.createElementNS('http://www.w3.org/2000/svg', 'path');\r\n      sunPath.setAttribute('stroke-linecap', 'round');\r\n      sunPath.setAttribute('stroke-linejoin', 'round');\r\n      sunPath.setAttribute('stroke-width', '2');\r\n      sunPath.setAttribute('d', 'M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z');\r\n      svg.appendChild(sunPath);\r\n    } else {\r\n      // Show moon icon (clicking will switch to dark)\r\n      const moonPath = document.createElementNS('http://www.w3.org/2000/svg', 'path');\r\n      moonPath.setAttribute('stroke-linecap', 'round');\r\n      moonPath.setAttribute('stroke-linejoin', 'round');\r\n      moonPath.setAttribute('stroke-width', '2');\r\n      moonPath.setAttribute('d', 'M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z');\r\n      svg.appendChild(moonPath);\r\n    }\r\n  };\r\n\r\n  // Toggle theme\r\n  const toggleTheme = (e) =\u003e {\r\n    if (e) {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n    }\r\n\r\n    const currentTheme = document.documentElement.getAttribute('data-theme') || getThemePreference();\r\n    const newTheme = currentTheme === DARK_THEME ? LIGHT_THEME : DARK_THEME;\r\n    \r\n    applyTheme(newTheme);\r\n    updateIcon(newTheme);\r\n  };\r\n\r\n  // Initialize theme on load\r\n  const initTheme = () =\u003e {\r\n    const theme = getThemePreference();\r\n    applyTheme(theme);\r\n    updateIcon(theme);\r\n  };\r\n\r\n  // Attach event listener to button\r\n  const attachToggleListener = () =\u003e {\r\n    const button = document.querySelector('button[aria-label=\"Toggle dark mode\"], button[title=\"Toggle dark mode\"]');\r\n    if (button) {\r\n      // Remove any existing listeners\r\n      const newButton = button.cloneNode(true);\r\n      button.parentNode.replaceChild(newButton, button);\r\n      \r\n      // Attach click listener\r\n      newButton.addEventListener('click', toggleTheme);\r\n      \r\n      // Also support keyboard (Enter/Space)\r\n      newButton.addEventListener('keydown', (e) =\u003e {\r\n        if (e.key === 'Enter' || e.key === ' ') {\r\n          e.preventDefault();\r\n          toggleTheme(e);\r\n        }\r\n      });\r\n    } else {\r\n      // Retry if button not found yet\r\n      setTimeout(attachToggleListener, 100);\r\n    }\r\n  };\r\n\r\n  // System theme listener removed - we default to dark mode\r\n  // Users can manually toggle if they prefer light mode\r\n  const setupSystemThemeListener = () =\u003e {\r\n    // No longer listening to system preferences\r\n    // Dark mode is the default, users can toggle to light if preferred\r\n  };\r\n\r\n  // Initialize everything\r\n  const initialize = () =\u003e {\r\n    initTheme();\r\n    attachToggleListener();\r\n    setupSystemThemeListener();\r\n  };\r\n\r\n  // Run initialization\r\n  if (document.readyState === 'loading') {\r\n    document.addEventListener('DOMContentLoaded', initialize);\r\n  } else {\r\n    // DOM already loaded\r\n    initialize();\r\n  }\r\n\r\n  // Expose for external use\r\n  window.toggleDarkMode = toggleTheme;\r\n  window.getCurrentTheme = () =\u003e document.documentElement.getAttribute('data-theme') || getThemePreference();\r\n})();\r\n\r\n// Image Protection - Prevent right-click, drag, and save\r\n(function() {\r\n  'use strict';\r\n  \r\n  const protectImage = () =\u003e {\r\n    const avatar = document.querySelector('.about-avatar');\r\n    if (!avatar) {\r\n      // Retry if image not loaded yet\r\n      setTimeout(protectImage, 100);\r\n      return;\r\n    }\r\n\r\n    // Prevent right-click context menu\r\n    avatar.addEventListener('contextmenu', (e) =\u003e {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      return false;\r\n    }, true);\r\n\r\n    // Prevent drag\r\n    avatar.addEventListener('dragstart', (e) =\u003e {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      return false;\r\n    }, true);\r\n\r\n    // Prevent selection\r\n    avatar.addEventListener('selectstart', (e) =\u003e {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      return false;\r\n    }, true);\r\n\r\n    // Prevent copy\r\n    avatar.addEventListener('copy', (e) =\u003e {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      return false;\r\n    }, true);\r\n\r\n    // Prevent cut\r\n    avatar.addEventListener('cut', (e) =\u003e {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      return false;\r\n    }, true);\r\n  };\r\n\r\n  // Apply protection when DOM is ready\r\n  if (document.readyState === 'loading') {\r\n    document.addEventListener('DOMContentLoaded', protectImage);\r\n  } else {\r\n    protectImage();\r\n  }\r\n})();\r\n"],"mappings":"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","names":[]}